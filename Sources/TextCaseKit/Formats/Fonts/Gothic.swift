import Foundation

public final class Gothic: Format {
    public var name: String = "Gothic"
    public var id: String = "gothic"
    public var description: String = "Gothic style characters."

    let source =
        """
        abcdefghijklmnopqrstuvwxyzÂµÃŸÃ Ã¡Ã¢Ã£Ã¤Ã¥Ã¦Ã§Ã¨Ã©ÃªÃ«Ã¬Ã­Ã®Ã¯Ã°Ã±Ã²Ã³Ã´ÃµÃ¶Ã¸Ã¹ÃºÃ»Ã¼Ã½Ã¾Ã¿ÄÄƒÄ…Ä‡Ä‰Ä‹ÄÄÄ‘Ä“Ä•Ä—Ä™Ä›ÄÄŸÄ¡Ä£Ä¥Ä§Ä©Ä«\
        Ä­Ä¯Ä±Ä³ÄµÄ·Ä¸ÄºÄ¼Ä¾Å€Å‚Å„Å†ÅˆÅ‰Å‹ÅÅÅ‘Å“Å•Å—Å™Å›ÅÅŸÅ¡Å£Å¥Å§Å©Å«Å­Å¯Å±Å³ÅµÅ·ÅºÅ¼Å¾ABCDEFGHIJKLMNOPQRSTUVWXYZÎœSSÃ€ÃÃ‚ÃƒÃ„Ã…Ã†Ã‡ÃˆÃ‰ÃŠÃ‹ÃŒÃÃÃÃ\
        Ã‘Ã’Ã“Ã”Ã•Ã–Ã˜Ã™ÃšÃ›ÃœÃÃÅ¸Ä€Ä‚Ä„Ä†ÄˆÄŠÄŒÄÄÄ’Ä”Ä–Ä˜ÄšÄœÄÄ Ä¢Ä¤Ä¦Ä¨ÄªÄ¬Ä®IÄ²Ä´Ä¶Ä¸Ä¹Ä»Ä½Ä¿ÅÅƒÅ…Å‡Ê¼NÅŠÅŒÅÅÅ’Å”Å–Å˜ÅšÅœÅÅ Å¢Å¤Å¦Å¨ÅªÅ¬Å®Å°Å²Å´Å¶Å¹Å»Å½
        """
    let formatted =
        """
        ğ”ğ”Ÿğ” ğ”¡ğ”¢ğ”£ğ”¤ğ”¥ğ”¦ğ”§ğ”¨ğ”©ğ”ªğ”«ğ”¬ğ”­ğ”®ğ”¯ğ”°ğ”±ğ”²ğ”³ğ”´ğ”µğ”¶ğ”·ÂµÃŸğ”Ì€ğ”Ìğ”Ì‚ğ”Ìƒğ”Ìˆğ”ÌŠÃ¦ğ” Ì§ğ”¢Ì€ğ”¢Ìğ”¢Ì‚ğ”¢ÌˆÄ±Ì€ğ”¦Ìğ”¦Ì‚ğ”¦ÌˆÃ°ğ”«Ìƒğ”¬Ì€ğ”¬Ìğ”¬Ì‚ğ”¬Ìƒğ”¬ÌˆÃ¸ğ”²Ì€ğ”²Ìğ”²Ì‚ğ”²Ìˆğ”¶ÌÃ¾ğ”¶Ìˆğ”Ì„ğ”Ì†ğ”Ì¨ğ” Ìğ” Ì‚ğ” Ì‡ğ” ÌŒğ”¡ÌŒÄ‘ğ”¢Ì„ğ”¢Ì†ğ”¢Ì‡ğ”¢Ì¨ğ”¢ÌŒğ”¤Ì‚ğ”¤Ì†ğ”¤Ì‡ğ”¤Ì§ğ”¥Ì‚Ä§ğ”¦Ìƒğ”¦Ì„ğ”¦Ì†ğ”¦Ì¨Ä±Ä³ğ”§Ì‚ğ”¨Ì§Ä¸ğ”©Ìğ”©Ì§ğ”©ÌŒğ”©Å‚ğ”«Ìğ”«Ì§ğ”«ÌŒÅ‰Å‹ğ”¬Ì„ğ”¬Ì†ğ”¬Ì‹Å“\
        ğ”¯Ìğ”¯Ì§ğ”¯ÌŒğ”°Ìğ”°Ì‚ğ”°Ì§ğ”°ÌŒğ”±Ì§ğ”±ÌŒÅ§ğ”²Ìƒğ”²Ì„ğ”²Ì†ğ”²ÌŠğ”²Ì‹ğ”²Ì¨ğ”´Ì‚ğ”¶Ì‚ğ”·Ìğ”·Ì‡ğ”·ÌŒğ”„ğ”…â„­ğ”‡ğ”ˆğ”‰ğ”Šâ„Œâ„‘ğ”ğ”ğ”ğ”ğ”‘ğ”’ğ”“ğ””â„œğ”–ğ”—ğ”˜ğ”™ğ”šğ”›ğ”œâ„¨Îœğ”–ğ”–ğ”„Ì€ğ”„Ìğ”„Ì‚ğ”„Ìƒğ”„Ìˆğ”„ÌŠÃ†â„­Ì§ğ”ˆÌ€ğ”ˆÌğ”ˆÌ‚ğ”ˆÌˆâ„‘Ì€â„‘Ìâ„‘Ì‚â„‘ÌˆÃğ”‘Ìƒğ”’Ì€ğ”’Ìğ”’Ì‚ğ”’Ìƒğ”’ÌˆÃ˜\
        ğ”˜Ì€ğ”˜Ìğ”˜Ì‚ğ”˜Ìˆğ”œÌÃğ”œÌˆğ”„Ì„ğ”„Ì†ğ”„Ì¨â„­Ìâ„­Ì‚â„­Ì‡â„­ÌŒğ”‡ÌŒÄğ”ˆÌ„ğ”ˆÌ†ğ”ˆÌ‡ğ”ˆÌ¨ğ”ˆÌŒğ”ŠÌ‚ğ”ŠÌ†ğ”ŠÌ‡ğ”ŠÌ§â„ŒÌ‚Ä¦â„‘Ìƒâ„‘Ì„â„‘Ì†â„‘Ì¨â„‘Ä²ğ”Ì‚ğ”Ì§Ä¸ğ”Ìğ”Ì§ğ”ÌŒğ”Åğ”‘Ìğ”‘Ì§ğ”‘ÌŒÊ¼ğ”‘ÅŠğ”’Ì„ğ”’Ì†ğ”’Ì‹Å’â„œÌâ„œÌ§â„œÌŒğ”–Ìğ”–Ì‚ğ”–Ì§ğ”–ÌŒğ”—Ì§ğ”—ÌŒÅ¦ğ”˜Ìƒğ”˜Ì„ğ”˜Ì†ğ”˜ÌŠğ”˜Ì‹ğ”˜Ì¨ğ”šÌ‚ğ”œÌ‚â„¨Ìâ„¨Ì‡â„¨ÌŒ
        """

    public init() {}

    public func process(_ input: String) -> String {
        guard !input.isEmpty else { return "" }
        var output = input

        for i in 0 ..< source.count {
            let sourceIndex = source.index(source.startIndex, offsetBy: i)
            let formattedIndex = formatted.index(formatted.startIndex, offsetBy: i)
            let sourceChar = source[sourceIndex]
            let formattedChar = formatted[formattedIndex]
            output = output.replacingOccurrences(of: String(sourceChar), with: String(formattedChar))
        }

        return output
    }
}
